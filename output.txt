[INFO] Scanning for projects...
[INFO] 
[INFO] -------------------< uk.co.ltheobald:kafka-testbed >--------------------
[INFO] Building kafka-testbed 0.0.1-SNAPSHOT
[INFO]   from pom.xml
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] --- clean:3.4.1:clean (default-clean) @ kafka-testbed ---
[INFO] Deleting /Users/leetheobald/ProjectsLocal/kafka-testbed/target
[INFO] 
[INFO] --- avro:1.12.0:schema (default) @ kafka-testbed ---
[INFO] 
[INFO] --- resources:3.3.1:resources (default-resources) @ kafka-testbed ---
[INFO] Copying 1 resource from src/main/resources to target/classes
[INFO] Copying 1 resource from src/main/resources to target/classes
[INFO] 
[INFO] --- compiler:3.13.0:compile (default-compile) @ kafka-testbed ---
[INFO] Recompiling the module because of changed source code.
[INFO] Compiling 5 source files with javac [debug parameters release 21] to target/classes
[INFO] 
[INFO] --- resources:3.3.1:testResources (default-testResources) @ kafka-testbed ---
[INFO] skip non existing resourceDirectory /Users/leetheobald/ProjectsLocal/kafka-testbed/src/test/resources
[INFO] 
[INFO] --- compiler:3.13.0:testCompile (default-testCompile) @ kafka-testbed ---
[INFO] Recompiling the module because of changed dependency.
[INFO] Compiling 4 source files with javac [debug parameters release 21] to target/test-classes
[INFO] 
[INFO] --- surefire:3.5.2:test (default-test) @ kafka-testbed ---
[INFO] Using auto detected provider org.apache.maven.surefire.junitplatform.JUnitPlatformProvider
[INFO] 
[INFO] -------------------------------------------------------
[INFO]  T E S T S
[INFO] -------------------------------------------------------
[INFO] Running uk.co.ltheobald.kafkatestbed.KafkaSchemaRegistryIntegrationTest
20:12:52.545 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils -- Could not detect default configuration classes for test class [uk.co.ltheobald.kafkatestbed.KafkaSchemaRegistryIntegrationTest]: KafkaSchemaRegistryIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
20:12:52.595 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper -- Found @SpringBootConfiguration uk.co.ltheobald.kafkatestbed.KafkaTestbedApplication for test class uk.co.ltheobald.kafkatestbed.KafkaSchemaRegistryIntegrationTest

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::                (v3.4.4)

2025-04-13T20:12:52.726+02:00  INFO 51025 --- [           main] c.l.k.KafkaSchemaRegistryIntegrationTest : Starting KafkaSchemaRegistryIntegrationTest using Java 23.0.2 with PID 51025 (started by leetheobald in /Users/leetheobald/ProjectsLocal/kafka-testbed)
2025-04-13T20:12:52.726+02:00  INFO 51025 --- [           main] c.l.k.KafkaSchemaRegistryIntegrationTest : No active profile set, falling back to 1 default profile: "default"
2025-04-13T20:12:53.058+02:00  INFO 51025 --- [           main] org.testcontainers.images.PullPolicy     : Image pull policy will be performed by: DefaultPullPolicy()
2025-04-13T20:12:53.059+02:00  INFO 51025 --- [           main] o.t.utility.ImageNameSubstitutor         : Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2025-04-13T20:12:53.067+02:00  INFO 51025 --- [           main] org.testcontainers.DockerClientFactory   : Testcontainers version: 1.20.6
2025-04-13T20:12:53.125+02:00  INFO 51025 --- [           main] o.t.d.DockerClientProviderStrategy       : Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2025-04-13T20:12:53.239+02:00  INFO 51025 --- [           main] o.t.d.DockerClientProviderStrategy       : Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2025-04-13T20:12:53.239+02:00  INFO 51025 --- [           main] org.testcontainers.DockerClientFactory   : Docker host IP address is localhost
2025-04-13T20:12:53.248+02:00  INFO 51025 --- [           main] org.testcontainers.DockerClientFactory   : Connected to docker: 
  Server Version: 28.0.1
  API Version: 1.48
  Operating System: Docker Desktop
  Total Memory: 7837 MB
  Labels: 
    com.docker.desktop.address=unix:///Users/leetheobald/Library/Containers/com.docker.docker/Data/docker-cli.sock
2025-04-13T20:12:53.310+02:00  INFO 51025 --- [           main] tc.testcontainers/ryuk:0.11.0            : Creating container for image: testcontainers/ryuk:0.11.0
2025-04-13T20:12:53.416+02:00  INFO 51025 --- [           main] o.t.utility.RegistryAuthLocator          : Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2025-04-13T20:12:53.477+02:00  INFO 51025 --- [           main] tc.testcontainers/ryuk:0.11.0            : Container testcontainers/ryuk:0.11.0 is starting: a1f3a6355967b0c2bd3b634e6d73197f5c545bdb107c38897ee0dd5aec627e2d
2025-04-13T20:12:53.630+02:00  INFO 51025 --- [           main] tc.testcontainers/ryuk:0.11.0            : Container testcontainers/ryuk:0.11.0 started in PT0.319804S
2025-04-13T20:12:53.633+02:00  INFO 51025 --- [           main] o.t.utility.RyukResourceReaper           : Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2025-04-13T20:12:53.633+02:00  INFO 51025 --- [           main] org.testcontainers.DockerClientFactory   : Checking the system...
2025-04-13T20:12:53.633+02:00  INFO 51025 --- [           main] org.testcontainers.DockerClientFactory   : ✔︎ Docker server version should be at least 1.6.0
2025-04-13T20:12:53.633+02:00  INFO 51025 --- [           main] tc.confluentinc/cp-kafka:7.9.0           : Creating container for image: confluentinc/cp-kafka:7.9.0
2025-04-13T20:12:53.676+02:00  INFO 51025 --- [           main] tc.confluentinc/cp-kafka:7.9.0           : Container confluentinc/cp-kafka:7.9.0 is starting: aaa77ebbdfd09ea8071b0dc764075b67fdddf154aee25a0e31de1015edb87c89
2025-04-13T20:12:53.859+02:00  INFO 51025 --- [ream-1107859937] KafkaContainer                           : STDOUT: ===> User
2025-04-13T20:12:53.860+02:00  INFO 51025 --- [ream-1107859937] KafkaContainer                           : STDOUT: uid=1000(appuser) gid=1000(appuser) groups=1000(appuser)
2025-04-13T20:12:53.860+02:00  INFO 51025 --- [ream-1107859937] KafkaContainer                           : STDOUT: ===> Configuring ...
2025-04-13T20:12:53.861+02:00  INFO 51025 --- [ream-1107859937] KafkaContainer                           : STDOUT: Running in KRaft mode...
2025-04-13T20:12:54.687+02:00  INFO 51025 --- [ream-1107859937] KafkaContainer                           : STDOUT: ===> Running preflight checks ... 
2025-04-13T20:12:54.687+02:00  INFO 51025 --- [ream-1107859937] KafkaContainer                           : STDOUT: ===> Check if /var/lib/kafka/data is writable ...
2025-04-13T20:12:54.819+02:00  INFO 51025 --- [ream-1107859937] KafkaContainer                           : STDOUT: ===> Running in KRaft mode, skipping Zookeeper health check...
2025-04-13T20:12:54.820+02:00  INFO 51025 --- [ream-1107859937] KafkaContainer                           : STDOUT: ===> Using provided cluster id 4L6g3nShT-eMCtK--X86sw ...
2025-04-13T20:12:55.434+02:00  INFO 51025 --- [ream-1107859937] KafkaContainer                           : STDOUT: Exception in thread "main" java.lang.IllegalArgumentException: requirement failed: advertised.listeners listener names must be equal to or a subset of the ones defined in listeners. Found PLAINTEXT,BROKER. The valid options based on the current configuration are CONTROLLER,BROKER at scala.Predef$.require(Predef.scala:337) at kafka.server.KafkaConfig.validateValues(KafkaConfig.scala:1012) at kafka.server.KafkaConfig.<init>(KafkaConfig.scala:852) at kafka.server.KafkaConfig.<init>(KafkaConfig.scala:184) at kafka.tools.StorageTool$.$anonfun$execute$1(StorageTool.scala:79) at scala.Option.flatMap(Option.scala:283) at kafka.tools.StorageTool$.execute(StorageTool.scala:79) at kafka.tools.StorageTool$.main(StorageTool.scala:46) at kafka.tools.StorageTool.main(StorageTool.scala)
